<?xml version="1.0" encoding="UTF-8"?>
<project name="ion/dev-package" default="info" phingVersion="2.16.3">    
          
    <!-- ===========================================
        Target: prepare-release
    ============================================ -->     
    

    <target name="prepare-release" depends="init, validate-package">
        
        <delete dir="${state.pkg.source.dir}" includeemptydirs="true" verbose="false" failonerror="false" />                    
        
        <delete includeemptydirs="true" verbose="false" failonerror="false">
            <fileset dir="${state.pkg.dir}">
                <include name="autoloader.json" />
            </fileset>
        </delete>          
        
        <phingcall target="tests" />
        
        <delete dir="${state.pkg.development.dir}" includeemptydirs="true" verbose="false" failonerror="false" />                    
        <delete dir="${state.pkg.tests.dir}" includeemptydirs="true" verbose="false" failonerror="false" />                    
        
        <delete includeemptydirs="true" verbose="false" failonerror="false">
            <fileset dir="${state.pkg.dir}">
                <include name="build.xml" />
                <include name="make.bat" />
                <include name="make" />
                <include name="${state.pkg.devops.glob}" />
            </fileset>
        </delete>      
    </target>       
    
    <!-- ===========================================
        Target: release
    ============================================ -->         
    
    <target name="release" depends="init, staging, package">
        
    </target>     
    
</project>